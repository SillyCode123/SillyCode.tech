{"ast":null,"code":"'use strict';\n\nconst process = require('node:process');\nconst {\n  DefaultRestOptions\n} = require('@discordjs/rest');\nconst {\n  toSnakeCase\n} = require('./Transformers');\n\n/**\n * @typedef {Function} CacheFactory\n * @param {Function} manager The manager class the cache is being requested from.\n * @param {Function} holds The class that the cache will hold.\n * @returns {Collection} A Collection used to store the cache of the manager.\n */\n\n/**\n * Options for a client.\n * @typedef {Object} ClientOptions\n * @property {number|number[]|string} [shards] The shard's id to run, or an array of shard ids. If not specified,\n * the client will spawn {@link ClientOptions#shardCount} shards. If set to `auto`, it will fetch the\n * recommended amount of shards from Discord and spawn that amount\n * @property {number} [closeTimeout=5_000] The amount of time in milliseconds to wait for the close frame to be received\n * from the WebSocket. Don't have this too high/low. Its best to have it between 2_000-6_000 ms.\n * @property {number} [shardCount=1] The total amount of shards used by all processes of this bot\n * (e.g. recommended shard count, shard count of the ShardingManager)\n * @property {CacheFactory} [makeCache] Function to create a cache.\n * You can use your own function, or the {@link Options} class to customize the Collection used for the cache.\n * <warn>Overriding the cache used in `GuildManager`, `ChannelManager`, `GuildChannelManager`, `RoleManager`,\n * and `PermissionOverwriteManager` is unsupported and **will** break functionality</warn>\n * @property {MessageMentionOptions} [allowedMentions] The default value for {@link BaseMessageOptions#allowedMentions}\n * @property {Partials[]} [partials] Structures allowed to be partial. This means events can be emitted even when\n * they're missing all the data for a particular structure. See the \"Partial Structures\" topic on the\n * [guide](https://discordjs.guide/popular-topics/partials.html) for some\n * important usage information, as partials require you to put checks in place when handling data.\n * @property {boolean} [failIfNotExists=true] The default value for {@link MessageReplyOptions#failIfNotExists}\n * @property {PresenceData} [presence={}] Presence data to use upon login\n * @property {IntentsResolvable} intents Intents to enable for this connection\n * @property {number} [waitGuildTimeout=15_000] Time in milliseconds that clients with the\n * {@link GatewayIntentBits.Guilds} gateway intent should wait for missing guilds to be received before being ready.\n * @property {SweeperOptions} [sweepers={}] Options for cache sweeping\n * @property {WebsocketOptions} [ws] Options for the WebSocket\n * @property {RESTOptions} [rest] Options for the REST manager\n * @property {Function} [jsonTransformer] A function used to transform outgoing json data\n */\n\n/**\n * Options for {@link Sweepers} defining the behavior of cache sweeping\n * @typedef {Object<SweeperKey, SweepOptions>} SweeperOptions\n */\n\n/**\n * Options for sweeping a single type of item from cache\n * @typedef {Object} SweepOptions\n * @property {number} interval The interval (in seconds) at which to perform sweeping of the item\n * @property {number} [lifetime] How long an item should stay in cache until it is considered sweepable.\n * <warn>This property is only valid for the `invites`, `messages`, and `threads` keys. The `filter` property\n * is mutually exclusive to this property and takes priority</warn>\n * @property {GlobalSweepFilter} filter The function used to determine the function passed to the sweep method\n * <info>This property is optional when the key is `invites`, `messages`, or `threads` and `lifetime` is set</info>\n */\n\n/**\n * WebSocket options (these are left as snake_case to match the API)\n * @typedef {Object} WebsocketOptions\n * @property {number} [large_threshold=50] Number of members in a guild after which offline users will no longer be\n * sent in the initial guild member list, must be between 50 and 250\n * @property {number} [version=10] The Discord gateway version to use <warn>Changing this can break the library;\n * only set this if you know what you are doing</warn>\n */\n\n/**\n * Contains various utilities for client options.\n */\nclass Options extends null {\n  /**\n   * The default client options.\n   * @returns {ClientOptions}\n   */\n  static createDefault() {\n    return {\n      closeTimeout: 5_000,\n      waitGuildTimeout: 15_000,\n      shardCount: 1,\n      makeCache: this.cacheWithLimits(this.DefaultMakeCacheSettings),\n      partials: [],\n      failIfNotExists: true,\n      presence: {},\n      sweepers: this.DefaultSweeperSettings,\n      ws: {\n        large_threshold: 50,\n        compress: false,\n        properties: {\n          os: process.platform,\n          browser: 'discord.js',\n          device: 'discord.js'\n        },\n        version: 10\n      },\n      rest: DefaultRestOptions,\n      jsonTransformer: toSnakeCase\n    };\n  }\n\n  /**\n   * Create a cache factory using predefined settings to sweep or limit.\n   * @param {Object<string, LimitedCollectionOptions|number>} [settings={}] Settings passed to the relevant constructor.\n   * If no setting is provided for a manager, it uses Collection.\n   * If a number is provided for a manager, it uses that number as the max size for a LimitedCollection.\n   * If LimitedCollectionOptions are provided for a manager, it uses those settings to form a LimitedCollection.\n   * @returns {CacheFactory}\n   * @example\n   * // Store up to 200 messages per channel and 200 members per guild, always keeping the client member.\n   * Options.cacheWithLimits({\n   *    MessageManager: 200,\n   *    GuildMemberManager: {\n   *      maxSize: 200,\n   *      keepOverLimit: (member) => member.id === client.user.id,\n   *    },\n   *  });\n   */\n  static cacheWithLimits() {\n    let settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const {\n      Collection\n    } = require('@discordjs/collection');\n    const LimitedCollection = require('./LimitedCollection');\n    return manager => {\n      const setting = settings[manager.name];\n      /* eslint-disable-next-line eqeqeq */\n      if (setting == null) {\n        return new Collection();\n      }\n      if (typeof setting === 'number') {\n        if (setting === Infinity) {\n          return new Collection();\n        }\n        return new LimitedCollection({\n          maxSize: setting\n        });\n      }\n      /* eslint-disable-next-line eqeqeq */\n      const noLimit = setting.maxSize == null || setting.maxSize === Infinity;\n      if (noLimit) {\n        return new Collection();\n      }\n      return new LimitedCollection(setting);\n    };\n  }\n\n  /**\n   * Create a cache factory that always caches everything.\n   * @returns {CacheFactory}\n   */\n  static cacheEverything() {\n    const {\n      Collection\n    } = require('@discordjs/collection');\n    return () => new Collection();\n  }\n\n  /**\n   * The default settings passed to {@link Options.cacheWithLimits}.\n   * The caches that this changes are:\n   * * `MessageManager` - Limit to 200 messages\n   * <info>If you want to keep default behavior and add on top of it you can use this object and add on to it, e.g.\n   * `makeCache: Options.cacheWithLimits({ ...Options.DefaultMakeCacheSettings, ReactionManager: 0 })`</info>\n   * @type {Object<string, LimitedCollectionOptions|number>}\n   */\n  static get DefaultMakeCacheSettings() {\n    return {\n      MessageManager: 200\n    };\n  }\n\n  /**\n   * The default settings passed to {@link Options.sweepers} (for v14).\n   * The sweepers that this changes are:\n   * * `threads` - Sweep archived threads every hour, removing those archived more than 4 hours ago\n   * <info>If you want to keep default behavior and add on top of it you can use this object and add on to it, e.g.\n   * `sweepers: { ...Options.DefaultSweeperSettings, messages: { interval: 300, lifetime: 600 } })`</info>\n   * @type {SweeperOptions}\n   */\n  static get DefaultSweeperSettings() {\n    return {\n      threads: {\n        interval: 3600,\n        lifetime: 14400\n      }\n    };\n  }\n}\nmodule.exports = Options;\n\n/**\n * @external RESTOptions\n * @see {@link https://discord.js.org/#/docs/rest/main/typedef/RESTOptions}\n */","map":{"version":3,"names":["process","require","DefaultRestOptions","toSnakeCase","Options","createDefault","closeTimeout","waitGuildTimeout","shardCount","makeCache","cacheWithLimits","DefaultMakeCacheSettings","partials","failIfNotExists","presence","sweepers","DefaultSweeperSettings","ws","large_threshold","compress","properties","os","platform","browser","device","version","rest","jsonTransformer","settings","Collection","LimitedCollection","manager","setting","name","Infinity","maxSize","noLimit","cacheEverything","MessageManager","threads","interval","lifetime","module","exports"],"sources":["J:/Coding/Projekts/Web/JavaScript/sillcode.tech/node_modules/discord.js/src/util/Options.js"],"sourcesContent":["'use strict';\n\nconst process = require('node:process');\nconst { DefaultRestOptions } = require('@discordjs/rest');\nconst { toSnakeCase } = require('./Transformers');\n\n/**\n * @typedef {Function} CacheFactory\n * @param {Function} manager The manager class the cache is being requested from.\n * @param {Function} holds The class that the cache will hold.\n * @returns {Collection} A Collection used to store the cache of the manager.\n */\n\n/**\n * Options for a client.\n * @typedef {Object} ClientOptions\n * @property {number|number[]|string} [shards] The shard's id to run, or an array of shard ids. If not specified,\n * the client will spawn {@link ClientOptions#shardCount} shards. If set to `auto`, it will fetch the\n * recommended amount of shards from Discord and spawn that amount\n * @property {number} [closeTimeout=5_000] The amount of time in milliseconds to wait for the close frame to be received\n * from the WebSocket. Don't have this too high/low. Its best to have it between 2_000-6_000 ms.\n * @property {number} [shardCount=1] The total amount of shards used by all processes of this bot\n * (e.g. recommended shard count, shard count of the ShardingManager)\n * @property {CacheFactory} [makeCache] Function to create a cache.\n * You can use your own function, or the {@link Options} class to customize the Collection used for the cache.\n * <warn>Overriding the cache used in `GuildManager`, `ChannelManager`, `GuildChannelManager`, `RoleManager`,\n * and `PermissionOverwriteManager` is unsupported and **will** break functionality</warn>\n * @property {MessageMentionOptions} [allowedMentions] The default value for {@link BaseMessageOptions#allowedMentions}\n * @property {Partials[]} [partials] Structures allowed to be partial. This means events can be emitted even when\n * they're missing all the data for a particular structure. See the \"Partial Structures\" topic on the\n * [guide](https://discordjs.guide/popular-topics/partials.html) for some\n * important usage information, as partials require you to put checks in place when handling data.\n * @property {boolean} [failIfNotExists=true] The default value for {@link MessageReplyOptions#failIfNotExists}\n * @property {PresenceData} [presence={}] Presence data to use upon login\n * @property {IntentsResolvable} intents Intents to enable for this connection\n * @property {number} [waitGuildTimeout=15_000] Time in milliseconds that clients with the\n * {@link GatewayIntentBits.Guilds} gateway intent should wait for missing guilds to be received before being ready.\n * @property {SweeperOptions} [sweepers={}] Options for cache sweeping\n * @property {WebsocketOptions} [ws] Options for the WebSocket\n * @property {RESTOptions} [rest] Options for the REST manager\n * @property {Function} [jsonTransformer] A function used to transform outgoing json data\n */\n\n/**\n * Options for {@link Sweepers} defining the behavior of cache sweeping\n * @typedef {Object<SweeperKey, SweepOptions>} SweeperOptions\n */\n\n/**\n * Options for sweeping a single type of item from cache\n * @typedef {Object} SweepOptions\n * @property {number} interval The interval (in seconds) at which to perform sweeping of the item\n * @property {number} [lifetime] How long an item should stay in cache until it is considered sweepable.\n * <warn>This property is only valid for the `invites`, `messages`, and `threads` keys. The `filter` property\n * is mutually exclusive to this property and takes priority</warn>\n * @property {GlobalSweepFilter} filter The function used to determine the function passed to the sweep method\n * <info>This property is optional when the key is `invites`, `messages`, or `threads` and `lifetime` is set</info>\n */\n\n/**\n * WebSocket options (these are left as snake_case to match the API)\n * @typedef {Object} WebsocketOptions\n * @property {number} [large_threshold=50] Number of members in a guild after which offline users will no longer be\n * sent in the initial guild member list, must be between 50 and 250\n * @property {number} [version=10] The Discord gateway version to use <warn>Changing this can break the library;\n * only set this if you know what you are doing</warn>\n */\n\n/**\n * Contains various utilities for client options.\n */\nclass Options extends null {\n  /**\n   * The default client options.\n   * @returns {ClientOptions}\n   */\n  static createDefault() {\n    return {\n      closeTimeout: 5_000,\n      waitGuildTimeout: 15_000,\n      shardCount: 1,\n      makeCache: this.cacheWithLimits(this.DefaultMakeCacheSettings),\n      partials: [],\n      failIfNotExists: true,\n      presence: {},\n      sweepers: this.DefaultSweeperSettings,\n      ws: {\n        large_threshold: 50,\n        compress: false,\n        properties: {\n          os: process.platform,\n          browser: 'discord.js',\n          device: 'discord.js',\n        },\n        version: 10,\n      },\n      rest: DefaultRestOptions,\n      jsonTransformer: toSnakeCase,\n    };\n  }\n\n  /**\n   * Create a cache factory using predefined settings to sweep or limit.\n   * @param {Object<string, LimitedCollectionOptions|number>} [settings={}] Settings passed to the relevant constructor.\n   * If no setting is provided for a manager, it uses Collection.\n   * If a number is provided for a manager, it uses that number as the max size for a LimitedCollection.\n   * If LimitedCollectionOptions are provided for a manager, it uses those settings to form a LimitedCollection.\n   * @returns {CacheFactory}\n   * @example\n   * // Store up to 200 messages per channel and 200 members per guild, always keeping the client member.\n   * Options.cacheWithLimits({\n   *    MessageManager: 200,\n   *    GuildMemberManager: {\n   *      maxSize: 200,\n   *      keepOverLimit: (member) => member.id === client.user.id,\n   *    },\n   *  });\n   */\n  static cacheWithLimits(settings = {}) {\n    const { Collection } = require('@discordjs/collection');\n    const LimitedCollection = require('./LimitedCollection');\n\n    return manager => {\n      const setting = settings[manager.name];\n      /* eslint-disable-next-line eqeqeq */\n      if (setting == null) {\n        return new Collection();\n      }\n      if (typeof setting === 'number') {\n        if (setting === Infinity) {\n          return new Collection();\n        }\n        return new LimitedCollection({ maxSize: setting });\n      }\n      /* eslint-disable-next-line eqeqeq */\n      const noLimit = setting.maxSize == null || setting.maxSize === Infinity;\n      if (noLimit) {\n        return new Collection();\n      }\n      return new LimitedCollection(setting);\n    };\n  }\n\n  /**\n   * Create a cache factory that always caches everything.\n   * @returns {CacheFactory}\n   */\n  static cacheEverything() {\n    const { Collection } = require('@discordjs/collection');\n    return () => new Collection();\n  }\n\n  /**\n   * The default settings passed to {@link Options.cacheWithLimits}.\n   * The caches that this changes are:\n   * * `MessageManager` - Limit to 200 messages\n   * <info>If you want to keep default behavior and add on top of it you can use this object and add on to it, e.g.\n   * `makeCache: Options.cacheWithLimits({ ...Options.DefaultMakeCacheSettings, ReactionManager: 0 })`</info>\n   * @type {Object<string, LimitedCollectionOptions|number>}\n   */\n  static get DefaultMakeCacheSettings() {\n    return {\n      MessageManager: 200,\n    };\n  }\n\n  /**\n   * The default settings passed to {@link Options.sweepers} (for v14).\n   * The sweepers that this changes are:\n   * * `threads` - Sweep archived threads every hour, removing those archived more than 4 hours ago\n   * <info>If you want to keep default behavior and add on top of it you can use this object and add on to it, e.g.\n   * `sweepers: { ...Options.DefaultSweeperSettings, messages: { interval: 300, lifetime: 600 } })`</info>\n   * @type {SweeperOptions}\n   */\n  static get DefaultSweeperSettings() {\n    return {\n      threads: {\n        interval: 3600,\n        lifetime: 14400,\n      },\n    };\n  }\n}\n\nmodule.exports = Options;\n\n/**\n * @external RESTOptions\n * @see {@link https://discord.js.org/#/docs/rest/main/typedef/RESTOptions}\n */\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}