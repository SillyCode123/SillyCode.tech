{"ast":null,"code":"'use strict';\n\nconst Action = require('./Action');\nconst {\n  createChannel\n} = require('../../util/Channels');\nclass ChannelUpdateAction extends Action {\n  handle(data) {\n    const client = this.client;\n    let channel = client.channels.cache.get(data.id);\n    if (channel) {\n      const old = channel._update(data);\n      if (channel.type !== data.type) {\n        const newChannel = createChannel(this.client, data, channel.guild);\n        for (const [id, message] of channel.messages.cache) newChannel.messages.cache.set(id, message);\n        channel = newChannel;\n        this.client.channels.cache.set(channel.id, channel);\n      }\n      return {\n        old,\n        updated: channel\n      };\n    } else {\n      client.channels._add(data);\n    }\n    return {};\n  }\n}\nmodule.exports = ChannelUpdateAction;","map":{"version":3,"names":["Action","require","createChannel","ChannelUpdateAction","handle","data","client","channel","channels","cache","get","id","old","_update","type","newChannel","guild","message","messages","set","updated","_add","module","exports"],"sources":["J:/Coding/Projekts/Web/JavaScript/sillcode.tech/node_modules/discord.js/src/client/actions/ChannelUpdate.js"],"sourcesContent":["'use strict';\n\nconst Action = require('./Action');\nconst { createChannel } = require('../../util/Channels');\n\nclass ChannelUpdateAction extends Action {\n  handle(data) {\n    const client = this.client;\n\n    let channel = client.channels.cache.get(data.id);\n    if (channel) {\n      const old = channel._update(data);\n\n      if (channel.type !== data.type) {\n        const newChannel = createChannel(this.client, data, channel.guild);\n        for (const [id, message] of channel.messages.cache) newChannel.messages.cache.set(id, message);\n        channel = newChannel;\n        this.client.channels.cache.set(channel.id, channel);\n      }\n\n      return {\n        old,\n        updated: channel,\n      };\n    } else {\n      client.channels._add(data);\n    }\n\n    return {};\n  }\n}\n\nmodule.exports = ChannelUpdateAction;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAClC,MAAM;EAAEC;AAAc,CAAC,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AAExD,MAAME,mBAAmB,SAASH,MAAM,CAAC;EACvCI,MAAM,CAACC,IAAI,EAAE;IACX,MAAMC,MAAM,GAAG,IAAI,CAACA,MAAM;IAE1B,IAAIC,OAAO,GAAGD,MAAM,CAACE,QAAQ,CAACC,KAAK,CAACC,GAAG,CAACL,IAAI,CAACM,EAAE,CAAC;IAChD,IAAIJ,OAAO,EAAE;MACX,MAAMK,GAAG,GAAGL,OAAO,CAACM,OAAO,CAACR,IAAI,CAAC;MAEjC,IAAIE,OAAO,CAACO,IAAI,KAAKT,IAAI,CAACS,IAAI,EAAE;QAC9B,MAAMC,UAAU,GAAGb,aAAa,CAAC,IAAI,CAACI,MAAM,EAAED,IAAI,EAAEE,OAAO,CAACS,KAAK,CAAC;QAClE,KAAK,MAAM,CAACL,EAAE,EAAEM,OAAO,CAAC,IAAIV,OAAO,CAACW,QAAQ,CAACT,KAAK,EAAEM,UAAU,CAACG,QAAQ,CAACT,KAAK,CAACU,GAAG,CAACR,EAAE,EAAEM,OAAO,CAAC;QAC9FV,OAAO,GAAGQ,UAAU;QACpB,IAAI,CAACT,MAAM,CAACE,QAAQ,CAACC,KAAK,CAACU,GAAG,CAACZ,OAAO,CAACI,EAAE,EAAEJ,OAAO,CAAC;MACrD;MAEA,OAAO;QACLK,GAAG;QACHQ,OAAO,EAAEb;MACX,CAAC;IACH,CAAC,MAAM;MACLD,MAAM,CAACE,QAAQ,CAACa,IAAI,CAAChB,IAAI,CAAC;IAC5B;IAEA,OAAO,CAAC,CAAC;EACX;AACF;AAEAiB,MAAM,CAACC,OAAO,GAAGpB,mBAAmB"},"metadata":{},"sourceType":"script","externalDependencies":[]}