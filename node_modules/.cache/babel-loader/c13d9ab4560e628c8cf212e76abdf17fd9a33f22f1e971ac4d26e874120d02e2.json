{"ast":null,"code":"'use strict';\n\nlet erlpack;\nconst {\n  Buffer\n} = require('node:buffer');\ntry {\n  erlpack = require('erlpack');\n  if (!erlpack.pack) erlpack = null;\n} catch {} // eslint-disable-line no-empty\n\nexports.WebSocket = require('ws');\nconst ab = new TextDecoder();\nexports.encoding = erlpack ? 'etf' : 'json';\nexports.pack = erlpack ? erlpack.pack : JSON.stringify;\nexports.unpack = (data, type) => {\n  if (exports.encoding === 'json' || type === 'json') {\n    if (typeof data !== 'string') {\n      data = ab.decode(data);\n    }\n    return JSON.parse(data);\n  }\n  if (!Buffer.isBuffer(data)) data = Buffer.from(new Uint8Array(data));\n  return erlpack.unpack(data);\n};\nexports.create = function (gateway) {\n  let query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const [g, q] = gateway.split('?');\n  query.encoding = exports.encoding;\n  query = new URLSearchParams(query);\n  if (q) new URLSearchParams(q).forEach((v, k) => query.set(k, v));\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n  const ws = new exports.WebSocket(`${g}?${query}`, ...args);\n  return ws;\n};\nfor (const state of ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED']) exports[state] = exports.WebSocket[state];","map":{"version":3,"names":["erlpack","Buffer","require","pack","exports","WebSocket","ab","TextDecoder","encoding","JSON","stringify","unpack","data","type","decode","parse","isBuffer","from","Uint8Array","create","gateway","query","g","q","split","URLSearchParams","forEach","v","k","set","args","ws","state"],"sources":["J:/Coding/Projekts/Web/JavaScript/sillcode.tech/node_modules/discord.js/src/WebSocket.js"],"sourcesContent":["'use strict';\n\nlet erlpack;\nconst { Buffer } = require('node:buffer');\n\ntry {\n  erlpack = require('erlpack');\n  if (!erlpack.pack) erlpack = null;\n} catch {} // eslint-disable-line no-empty\n\nexports.WebSocket = require('ws');\n\nconst ab = new TextDecoder();\n\nexports.encoding = erlpack ? 'etf' : 'json';\n\nexports.pack = erlpack ? erlpack.pack : JSON.stringify;\n\nexports.unpack = (data, type) => {\n  if (exports.encoding === 'json' || type === 'json') {\n    if (typeof data !== 'string') {\n      data = ab.decode(data);\n    }\n    return JSON.parse(data);\n  }\n  if (!Buffer.isBuffer(data)) data = Buffer.from(new Uint8Array(data));\n  return erlpack.unpack(data);\n};\n\nexports.create = (gateway, query = {}, ...args) => {\n  const [g, q] = gateway.split('?');\n  query.encoding = exports.encoding;\n  query = new URLSearchParams(query);\n  if (q) new URLSearchParams(q).forEach((v, k) => query.set(k, v));\n  const ws = new exports.WebSocket(`${g}?${query}`, ...args);\n  return ws;\n};\n\nfor (const state of ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED']) exports[state] = exports.WebSocket[state];\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,OAAO;AACX,MAAM;EAAEC;AAAO,CAAC,GAAGC,OAAO,CAAC,aAAa,CAAC;AAEzC,IAAI;EACFF,OAAO,GAAGE,OAAO,CAAC,SAAS,CAAC;EAC5B,IAAI,CAACF,OAAO,CAACG,IAAI,EAAEH,OAAO,GAAG,IAAI;AACnC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;;AAEXI,OAAO,CAACC,SAAS,GAAGH,OAAO,CAAC,IAAI,CAAC;AAEjC,MAAMI,EAAE,GAAG,IAAIC,WAAW,EAAE;AAE5BH,OAAO,CAACI,QAAQ,GAAGR,OAAO,GAAG,KAAK,GAAG,MAAM;AAE3CI,OAAO,CAACD,IAAI,GAAGH,OAAO,GAAGA,OAAO,CAACG,IAAI,GAAGM,IAAI,CAACC,SAAS;AAEtDN,OAAO,CAACO,MAAM,GAAG,CAACC,IAAI,EAAEC,IAAI,KAAK;EAC/B,IAAIT,OAAO,CAACI,QAAQ,KAAK,MAAM,IAAIK,IAAI,KAAK,MAAM,EAAE;IAClD,IAAI,OAAOD,IAAI,KAAK,QAAQ,EAAE;MAC5BA,IAAI,GAAGN,EAAE,CAACQ,MAAM,CAACF,IAAI,CAAC;IACxB;IACA,OAAOH,IAAI,CAACM,KAAK,CAACH,IAAI,CAAC;EACzB;EACA,IAAI,CAACX,MAAM,CAACe,QAAQ,CAACJ,IAAI,CAAC,EAAEA,IAAI,GAAGX,MAAM,CAACgB,IAAI,CAAC,IAAIC,UAAU,CAACN,IAAI,CAAC,CAAC;EACpE,OAAOZ,OAAO,CAACW,MAAM,CAACC,IAAI,CAAC;AAC7B,CAAC;AAEDR,OAAO,CAACe,MAAM,GAAG,UAACC,OAAO,EAA0B;EAAA,IAAxBC,KAAK,uEAAG,CAAC,CAAC;EACnC,MAAM,CAACC,CAAC,EAAEC,CAAC,CAAC,GAAGH,OAAO,CAACI,KAAK,CAAC,GAAG,CAAC;EACjCH,KAAK,CAACb,QAAQ,GAAGJ,OAAO,CAACI,QAAQ;EACjCa,KAAK,GAAG,IAAII,eAAe,CAACJ,KAAK,CAAC;EAClC,IAAIE,CAAC,EAAE,IAAIE,eAAe,CAACF,CAAC,CAAC,CAACG,OAAO,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKP,KAAK,CAACQ,GAAG,CAACD,CAAC,EAAED,CAAC,CAAC,CAAC;EAAC,kCAJzBG,IAAI;IAAJA,IAAI;EAAA;EAK5C,MAAMC,EAAE,GAAG,IAAI3B,OAAO,CAACC,SAAS,CAAE,GAAEiB,CAAE,IAAGD,KAAM,EAAC,EAAE,GAAGS,IAAI,CAAC;EAC1D,OAAOC,EAAE;AACX,CAAC;AAED,KAAK,MAAMC,KAAK,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE,SAAS,EAAE,QAAQ,CAAC,EAAE5B,OAAO,CAAC4B,KAAK,CAAC,GAAG5B,OAAO,CAACC,SAAS,CAAC2B,KAAK,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}